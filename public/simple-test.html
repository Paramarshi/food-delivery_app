<!DOCTYPE html>
<html>
<head>
    <title>Simple Load Test</title>
</head>
<body>
    <h1>Script Loading Test</h1>
    <pre id="output"></pre>

    <script>
        function log(msg) {
            document.getElementById('output').textContent += msg + '\n';
            console.log(msg);
        }
        log('1. Page started loading...');
        log('2. About to load Ethers.js...');
    </script>

    <!-- Load Ethers from LOCAL file -->
    <script src="./ethers.min.js"></script>

    <script>
        log('3. Ethers script tag passed');
        log('4. Checking ethers: ' + (typeof ethers !== 'undefined' ? '✅ LOADED' : '❌ NOT LOADED'));
        if (typeof ethers !== 'undefined') {
            log('   Ethers version: ' + (ethers.version || 'v6.x'));
        }
        log('5. About to load supplychain-web3.js...');
    </script>

    <!-- Load our script -->
    <script src="./supplychain-web3.js?v=3"></script>

    <script>
        log('6. supplychain-web3 script tag passed');
        log('7. Checking SupplyChainWeb3: ' + (typeof SupplyChainWeb3 !== 'undefined' ? '✅ LOADED' : '❌ NOT LOADED'));
        log('8. Checking window.SupplyChainWeb3: ' + (typeof window.SupplyChainWeb3 !== 'undefined' ? '✅ EXISTS' : '❌ NOT EXISTS'));
        log('9. Checking CONTRACT_ADDRESS: ' + (typeof CONTRACT_ADDRESS !== 'undefined' ? CONTRACT_ADDRESS : '❌ NOT DEFINED'));
        
        if (typeof window.SupplyChainWeb3 !== 'undefined') {
            log('10. ✅ ALL GOOD - Try creating instance...');
            try {
                const test = new window.SupplyChainWeb3();
                log('11. ✅ Instance created successfully!');
            } catch (e) {
                log('11. ❌ Error creating instance: ' + e.message);
            }
        } else {
            log('10. ❌ PROBLEM - SupplyChainWeb3 not available');
        }
    </script>
</body>
</html>
